{"version":3,"names":["useContext","useEffect","KeyboardContext","AndroidSoftInputModes","KeyboardController","uuid","useResizeMode","setInputMode","SOFT_INPUT_ADJUST_RESIZE","setDefaultMode","useKeyboardAnimation","context","animated","useReanimatedKeyboardAnimation","reanimated","useGenericKeyboardHandler","handler","deps","key","setHandlers","undefined","useKeyboardHandler"],"sources":["hooks.ts"],"sourcesContent":["import { DependencyList, useContext, useEffect } from 'react';\n\nimport { AnimatedContext, KeyboardContext, ReanimatedContext } from './context';\nimport { AndroidSoftInputModes, KeyboardController } from './native';\nimport { uuid } from './utils';\n\nimport type { KeyboardHandler } from './types';\n\nexport const useResizeMode = () => {\n  useEffect(() => {\n    KeyboardController.setInputMode(\n      AndroidSoftInputModes.SOFT_INPUT_ADJUST_RESIZE\n    );\n\n    return () => KeyboardController.setDefaultMode();\n  }, []);\n};\n\nexport const useKeyboardAnimation = (): AnimatedContext => {\n  useResizeMode();\n  const context = useContext(KeyboardContext);\n\n  return context.animated;\n};\n\nexport const useReanimatedKeyboardAnimation = (): ReanimatedContext => {\n  useResizeMode();\n  const context = useContext(KeyboardContext);\n\n  return context.reanimated;\n};\n\nexport function useGenericKeyboardHandler(\n  handler: KeyboardHandler,\n  deps?: DependencyList\n) {\n  const context = useContext(KeyboardContext);\n\n  useEffect(() => {\n    const key = uuid();\n\n    context.setHandlers({ [key]: handler });\n\n    return () => {\n      context.setHandlers({ [key]: undefined });\n    };\n  }, deps);\n}\n\nexport function useKeyboardHandler(\n  handler: KeyboardHandler,\n  deps?: DependencyList\n) {\n  useResizeMode();\n  useGenericKeyboardHandler(handler, deps);\n}\n"],"mappings":"AAAA,SAAyBA,UAAzB,EAAqCC,SAArC,QAAsD,OAAtD;AAEA,SAA0BC,eAA1B,QAAoE,WAApE;AACA,SAASC,qBAAT,EAAgCC,kBAAhC,QAA0D,UAA1D;AACA,SAASC,IAAT,QAAqB,SAArB;AAIA,OAAO,MAAMC,aAAa,GAAG,MAAM;EACjCL,SAAS,CAAC,MAAM;IACdG,kBAAkB,CAACG,YAAnB,CACEJ,qBAAqB,CAACK,wBADxB;IAIA,OAAO,MAAMJ,kBAAkB,CAACK,cAAnB,EAAb;EACD,CANQ,EAMN,EANM,CAAT;AAOD,CARM;AAUP,OAAO,MAAMC,oBAAoB,GAAG,MAAuB;EACzDJ,aAAa;EACb,MAAMK,OAAO,GAAGX,UAAU,CAACE,eAAD,CAA1B;EAEA,OAAOS,OAAO,CAACC,QAAf;AACD,CALM;AAOP,OAAO,MAAMC,8BAA8B,GAAG,MAAyB;EACrEP,aAAa;EACb,MAAMK,OAAO,GAAGX,UAAU,CAACE,eAAD,CAA1B;EAEA,OAAOS,OAAO,CAACG,UAAf;AACD,CALM;AAOP,OAAO,SAASC,yBAAT,CACLC,OADK,EAELC,IAFK,EAGL;EACA,MAAMN,OAAO,GAAGX,UAAU,CAACE,eAAD,CAA1B;EAEAD,SAAS,CAAC,MAAM;IACd,MAAMiB,GAAG,GAAGb,IAAI,EAAhB;IAEAM,OAAO,CAACQ,WAAR,CAAoB;MAAE,CAACD,GAAD,GAAOF;IAAT,CAApB;IAEA,OAAO,MAAM;MACXL,OAAO,CAACQ,WAAR,CAAoB;QAAE,CAACD,GAAD,GAAOE;MAAT,CAApB;IACD,CAFD;EAGD,CARQ,EAQNH,IARM,CAAT;AASD;AAED,OAAO,SAASI,kBAAT,CACLL,OADK,EAELC,IAFK,EAGL;EACAX,aAAa;EACbS,yBAAyB,CAACC,OAAD,EAAUC,IAAV,CAAzB;AACD"}