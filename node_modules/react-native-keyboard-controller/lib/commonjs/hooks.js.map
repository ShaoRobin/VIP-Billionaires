{"version":3,"names":["useResizeMode","useEffect","KeyboardController","setInputMode","AndroidSoftInputModes","SOFT_INPUT_ADJUST_RESIZE","setDefaultMode","useKeyboardAnimation","context","useContext","KeyboardContext","animated","useReanimatedKeyboardAnimation","reanimated","useGenericKeyboardHandler","handler","deps","key","uuid","setHandlers","undefined","useKeyboardHandler"],"sources":["hooks.ts"],"sourcesContent":["import { DependencyList, useContext, useEffect } from 'react';\n\nimport { AnimatedContext, KeyboardContext, ReanimatedContext } from './context';\nimport { AndroidSoftInputModes, KeyboardController } from './native';\nimport { uuid } from './utils';\n\nimport type { KeyboardHandler } from './types';\n\nexport const useResizeMode = () => {\n  useEffect(() => {\n    KeyboardController.setInputMode(\n      AndroidSoftInputModes.SOFT_INPUT_ADJUST_RESIZE\n    );\n\n    return () => KeyboardController.setDefaultMode();\n  }, []);\n};\n\nexport const useKeyboardAnimation = (): AnimatedContext => {\n  useResizeMode();\n  const context = useContext(KeyboardContext);\n\n  return context.animated;\n};\n\nexport const useReanimatedKeyboardAnimation = (): ReanimatedContext => {\n  useResizeMode();\n  const context = useContext(KeyboardContext);\n\n  return context.reanimated;\n};\n\nexport function useGenericKeyboardHandler(\n  handler: KeyboardHandler,\n  deps?: DependencyList\n) {\n  const context = useContext(KeyboardContext);\n\n  useEffect(() => {\n    const key = uuid();\n\n    context.setHandlers({ [key]: handler });\n\n    return () => {\n      context.setHandlers({ [key]: undefined });\n    };\n  }, deps);\n}\n\nexport function useKeyboardHandler(\n  handler: KeyboardHandler,\n  deps?: DependencyList\n) {\n  useResizeMode();\n  useGenericKeyboardHandler(handler, deps);\n}\n"],"mappings":";;;;;;;;;;AAAA;;AAEA;;AACA;;AACA;;AAIO,MAAMA,aAAa,GAAG,MAAM;EACjC,IAAAC,gBAAA,EAAU,MAAM;IACdC,0BAAA,CAAmBC,YAAnB,CACEC,6BAAA,CAAsBC,wBADxB;;IAIA,OAAO,MAAMH,0BAAA,CAAmBI,cAAnB,EAAb;EACD,CAND,EAMG,EANH;AAOD,CARM;;;;AAUA,MAAMC,oBAAoB,GAAG,MAAuB;EACzDP,aAAa;EACb,MAAMQ,OAAO,GAAG,IAAAC,iBAAA,EAAWC,wBAAX,CAAhB;EAEA,OAAOF,OAAO,CAACG,QAAf;AACD,CALM;;;;AAOA,MAAMC,8BAA8B,GAAG,MAAyB;EACrEZ,aAAa;EACb,MAAMQ,OAAO,GAAG,IAAAC,iBAAA,EAAWC,wBAAX,CAAhB;EAEA,OAAOF,OAAO,CAACK,UAAf;AACD,CALM;;;;AAOA,SAASC,yBAAT,CACLC,OADK,EAELC,IAFK,EAGL;EACA,MAAMR,OAAO,GAAG,IAAAC,iBAAA,EAAWC,wBAAX,CAAhB;EAEA,IAAAT,gBAAA,EAAU,MAAM;IACd,MAAMgB,GAAG,GAAG,IAAAC,WAAA,GAAZ;IAEAV,OAAO,CAACW,WAAR,CAAoB;MAAE,CAACF,GAAD,GAAOF;IAAT,CAApB;IAEA,OAAO,MAAM;MACXP,OAAO,CAACW,WAAR,CAAoB;QAAE,CAACF,GAAD,GAAOG;MAAT,CAApB;IACD,CAFD;EAGD,CARD,EAQGJ,IARH;AASD;;AAEM,SAASK,kBAAT,CACLN,OADK,EAELC,IAFK,EAGL;EACAhB,aAAa;EACbc,yBAAyB,CAACC,OAAD,EAAUC,IAAV,CAAzB;AACD"}